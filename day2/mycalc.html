<!-- 중간 이후부터 이해 필! -->
<!-- 
    - 섞지말고 단일부호인 경우 3,4개도 계산되게
    - 두개 연산한 거 계속 값 갖고 있고
    - 만약 섞는다면: 다음 연산자 누르는 순간 이전 계산은 자동으로 됨
 -->
<style>
    #operator {
        width: 50px;
        height: 50px;
        margin: 5px;
        text-align: center;

    }

    #result {
        width: 180px;
        height: 50px;
        margin: 5px;
        text-align: center;
    }

    button {
        width: 50px;
        height: 50px;
        margin: 5px;
    }
</style>

<body>
    <input readonly id='operator'>
    <input readonly id='result'>
    <br>
    <button id="num-7">7</button>
    <button id="num-8">8</button>
    <button id="num-9">9</button>
    <button id="plus">+</button>
    <br>
    <button id="num-4">4</button>
    <button id="num-5">5</button>
    <button id="num-6">6</button>
    <button id="minus">-</button>
    <br>
    <button id="num-1">1</button>
    <button id="num-2">2</button>
    <button id="num-3">3</button>
    <button id="divide">/</button>
    <br>
    <button id="clear">C</button>
    <button id="num-0">0</button>
    <button id="calculate">=</button>
    <button id="multiply">x</button>

</body>


<script>
    let did = 0;
    const onClickNumber = (event) => {
        if (operator) {
            if (did==1) {
                $result.value = '';
            }
            // 여기는 textContent: value 아님  그건 인풋박스같은 거에
            numTwo += event.target.textContent;
        }
        else {
            numOne += event.target.textContent;
        }
        $result.value += event.target.textContent;
    }
    
    // const onClickResult = () => {
    //     operator = $operator.value ;
    //     switch (operator) {
    //         case '+':
    //         $result.value = Number(numOne)  +  Number(numTwo);
    //             break;
    //         case '-':
    //         $result.value = Number(numOne)  -  Number(numTwo);
    //             break;
    //         case 'x':
    //         $result.value = Number(numOne)  *  Number(numTwo);
    //             break;
    //         case '/':
    //         $result.value = Number(numOne)  /  Number(numTwo);
    //             break;
    //         default:
    //             break;
    //     }
    //
    // }

    const onClickOperator = (event) => {
        if (numTwo) {
            $result.value = Number(numOne)  +  Number(numTwo);
            numOne = $result.value;
            numTwo = '';
            did = 1;
        }
        else{
        $operator.value = operator = event.target.textContent;
        $result.value = '';
        }
        

    }

</script>

<script>
    let numOne = '';
    let numTwo = '';
    let operator = '';
    const $operator = document.querySelector('#operator');
    const $result = document.querySelector('#result');

    document.querySelector('#num-0').addEventListener('click', onClickNumber);
    document.querySelector('#num-1').addEventListener('click', onClickNumber);
    document.querySelector('#num-2').addEventListener('click', onClickNumber);
    document.querySelector('#num-3').addEventListener('click', onClickNumber);
    document.querySelector('#num-4').addEventListener('click', onClickNumber);
    document.querySelector('#num-5').addEventListener('click', onClickNumber);
    document.querySelector('#num-6').addEventListener('click', onClickNumber);
    document.querySelector('#num-7').addEventListener('click', onClickNumber);
    document.querySelector('#num-8').addEventListener('click', onClickNumber);
    document.querySelector('#num-9').addEventListener('click', onClickNumber);
    document.querySelector('#plus').addEventListener('click', onClickOperator);
    document.querySelector('#minus').addEventListener('click', onClickOperator);
    document.querySelector('#divide').addEventListener('click', onClickOperator);
    document.querySelector('#multiply').addEventListener('click', onClickOperator);
    document.querySelector('#clear').addEventListener('click', () => {
        $operator.value = '';
        $result.value = '';
        numOne = numTwo = operator = '';
    });
    document.querySelector('#calculate').addEventListener('click', () => {
        operator = $operator.value ;
        
        switch (operator) {
            case '+':
            $result.value = Number(numOne)  +  Number(numTwo);
                break;
            case '-':
            $result.value = Number(numOne)  -  Number(numTwo);
                break;
            case 'x':
            $result.value = Number(numOne)  *  Number(numTwo);
                break;
            case '/':
            $result.value = Number(numOne)  /  Number(numTwo);
                break;
            default:
                break;
        }
        
    });
</script>


<!-- <script>
    // 1.함수는 함수를 반환할 수 있다.
    // const func = (msg) => {
    //     return () => {
    //         console.log(msg);
    //     } ;
    // }

    // 2. return문을 생략하고 저렇게 쓸 수도 있다 (js 고차원함수)
    const func = (msg) => () => { console.log(msg); }
    const v1 = func('hello');
    const v2 = func('javascript');
    v1();
    v2();
</script> -->