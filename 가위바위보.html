<!-- 업뎃필@@  가위1 바위2 보3
가위 2    -1 win  0 lose  
바위 3    2 win   0 lose
보   4    2 win   3 lose

-->

<!-- 두 수를 빼고 1을 더한값 === 1 비기는거고
(두 수를 빼고 1을 더한값에) % 3 == 0  게이머가 지는거고
그외 는 게이머가 이긴다. -->

<!-- 컴퓨터가 내고 그 결과보고 우리가 이기게 만들어보자 -->

<style>
    #computer {
        width: 170px;
        height: 200px;
    }
</style>

<div id="computer"></div>
<div>
    <button id="sci">가위</button>
    <button id="stone">바위</button>
    <button id="paper">보</button>
</div>
<div id="result"></div>


<script>
    const $computer = document.querySelector('#computer');
    const $sci = document.querySelector('#sci');
    const $stone = document.querySelector('#stone');
    const $paper = document.querySelector('#paper');
    const $result = document.querySelector('#result');
    const IMG_URL = './rsp.png';
    const temps = ['0', '380px', '170px'];
    let countnum = 0 ;
    let intervalId;
    let compNumber = 0;
    let humanNumber = 0;

    const randomGame = function(){
        countnum++;
        compNumber = countnum%3;
        $computer.style.background = `url(${IMG_URL}) ${temps[countnum%3]} 0`;
        $computer.style.backgroundSize = 'auto 200px'
    }

    intervalId = setInterval(() => {
        randomGame();
    }, 100);


    const buttons = document.querySelectorAll('button');
    buttons.forEach( (button, idx) => {
        button.addEventListener('click', ()=>{
        clearInterval(intervalId);
        humanNumber = idx+1;
        gameResult();
    });
    });
    


    const gameResult = () => {
        let result = humanNumber - compNumber ;
        if (result === 1) {
            $result.textContent = '비겼습니다.'
        }
        else if (result % 3 === 0) {
            $result.textContent = '컴퓨터가 승리했습니다.'
        }
        else {
            $result.textContent = '이겼습니다.'
        }

    }




</script>

<!-- 
    
    이미지 넣는 법

    foreach 쓰려면  querySelectorAll이어야

    interval 변수화해서 clearInterval 쓰기

-->

<!-- 버튼 개선 전
$sci.addEventListener('click', ()=>{
    clearInterval(intervalId);
    humanNumber = 1;
    gameResult();
});
$stone.addEventListener('click', ()=>{
    clearInterval(intervalId);
    humanNumber = 2;
    gameResult();
});
$paper.addEventListener('click', ()=>{
    clearInterval(intervalId);
    humanNumber = 3;
    gameResult();
}); -->